<!DOCTYPE html>
<html>
<body>
<div id = "Individual">
<select id="Day">
<option value="Mon">Monday</option>
<option value="Tue">Tuesday</option>
<option value="Wed">Wednesday</option>
<option value="Thu">Thursday</option>
<option value="Fri">Friday</option>
<option value="Sat">Saturday</option>
</select>

<select id="RefSource">
<option value="self">Self-referral      </option>    
<option value="saf">Singapore Armed Force       </option>
<option value="privatepract">Private Practitioner       </option>
<option value="prison">         Prison          </option>
<option value="communityhealthcare">    Community Healthcare        </option>
<option value="intraae">A&E</option>
<option value="intradeptpte">       Intradepartmental-private</option>
<option value="intradeptsub">   Intradepartmental-subsidised</option>
<option value="wardpte">            Ward-private    </option>
<option value="wardsub">    Ward-subsidised </option>
<option value="scdf">   Scdf    </option>
<option value="privatehospital">    Private Hospital    </option>
<option value="publichospitalpte">Public Hospital-private       </option>
<option value="publichospitalsub">Public Hospital-subsidised        </option>
<option value="polyclinics">  Polyclinics                               </option>
<option value="nationalcentressub"> National Centre </option>
<option value="vwonursinghomepte">VWO Nursing Home - private </option>
<option value="vwonursinghomesub">VWO Nursing Home - subsidised </option>
<option value="ministrystatb">Ministry</option>
<option value= "others"> Others</option>
</select>
        
<button onclick="myFunction()">Try it</button>
<p> Probability: </p>
<p id="values"> </p>
</div>
<div id ="dayPrediction">

<p id="dayofweek">Day of the week</p>    
<select id="Day1">
<option value="Mon">Monday</option>
<option value="Tue">Tuesday</option>
<option value="Wed">Wednesday</option>
<option value="Thu">Thursday</option>
<option value="Fri">Friday</option>
<option value="Sat">Saturday</option>
</select>

<form><br>
Self-referral <br> <input type = "text" id ="self", value = 0>     </form>
    
<form><br>
Singapore Armed Force <br> <input type = "text" id ="saf", value = 0>         </form>

<form> <br>
Private Practitioner <br><input type = "text" id ="privatepract", value = 0>        </form>

<form> <br>
Prison <br><input type = "text" id ="prison", value = 0>                  </form>

<form> <br>
Community Healthcare <br><input type = "text" id ="communityhealthcare", value = 0>            </form>

<form><br>
A&E <br> <input type = "text" id ="intraae", value = 0></form>

<form><br>
Intradepartmental-private <br> <input type = "text" id ="intradeptpte", value = 0>       </form>

<form><br>
Intradepartmental-subsidised <br> <input type = "text" id ="intradeptsub", value = 0>   </form>

<form><br>
Ward-private <br> <input type = "text" id ="wardpte", value = 0>                </form>

<form><br>
Ward-subsidised <br> <input type = "text" id ="wardsub", value = 0>    </form>

<form><br>
SCDF <br> <input type = "text" id ="scdf", value = 0>      </form>

<form><br>
Private Hospital <br> <input type = "text" id ="privatehospital", value = 0>   </form>

<form> <br>
Public Hospital-private <br><input type = "text" id ="publichospitalpte", value = 0>       </form>

<form><br>
Public Hospital-subsidised <br> <input type = "text" id ="publichospitalsub", value = 0>       </form>

<form><br>
Polyclinics <br> <input type = "text" id ="polyclinics", value = 0>                                 </form>

<form><br>
National Centre <br> <input type = "text" id ="nationalcentressub", value = 0>  </form>

<form><br>
VWO Nursing Home - private <br> <input type = "text" id ="vwonursinghomepte", value = 0> </form>

<form><br>
VWO Nursing Home - subsidised <br> <input type = "text" id ="vwonursinghomesub", value = 0> </form>

<form><br>
Ministry <br> <input type = "text" id ="ministrystatb", value = 0></form>

<form><br>
Others <br> <input type = "text" id = "others", value = 0> </form>

<button onclick="nsNum()">Number of noshow</button>
<p> Number of no show </p>
<p id="number"> </p>
</div>

<script type="text/javascript">

function nsNum() {
    var day1 = document.getElementById('Day1');
    var day = day1.options[day1.selectedIndex].value;
    valuelist = ['self','saf','privatepract','prison','communityhealthcare','intraae','intradeptpte','intradeptsub','wardpte','wardsub','scdf','privatehospital','publichospitalpte','publichospitalsub','polyclinics','nationalcentressub','vwonursinghomepte','vwonursinghomesub','ministrystatb', "others"]
    total = 0;
    for (var i=0; i < valuelist.length; i++ ){
        m=document.getElementById(valuelist[i]).value
        for (var j=0; j<m; j++){
            total += arrays(day, valuelist[i]);
        }
    };

    document.getElementById("number").innerHTML= "<br>"+  total +"</br>";



};

function myFunction(){


    var name1 = document.getElementById('Day');
    var value1 = document.getElementById("RefSource");
    var name= name1.options[name1.selectedIndex].value;
    var value= value1.options[value1.selectedIndex].value;


    toPrintout = arrays(name, value)
    document.getElementById("values").innerHTML= "<br>"+  toPrintout +"</br>";


};

function arrays(name, value) {


    var namearray= ['tues','wed','thu','fri','sat','self','saf','privatepract','prison','communityhealthcare','intraae','intradeptpte','intradeptsub','wardpte','wardsub','scdf','privatehospital','publichospitalpte','publichospitalsub','polyclinics','nationalcentressub','vwonursinghomepte','vwonursinghomesub','ministrystatb','_cons'];
    var valuearray= [0.0426706,-0.1097137,0.0079163,-0.1657061,0.1159243,-0.0582762,0.2568818,0.074099,0.8148136,-0.2085333,0.1449073,-0.353131,-0.120407,-0.4109658,0.0277492,0.2052004,0.5443585,-0.1337164,-0.0085834,0.0215009,-0.1073646,1.553088,-0.1282721,-0.8294253,-1.75076];
    var numberarray = [0, 0 ,0 ,0 ,0 ,0 ,0 ,0  ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0, 1];
    var x = numberarray.length;

    if (value == "others"){
        numberarray = numberarray;
    }else{
        numberarray[namearray.indexOf(value)] += 1;
        numberarray[namearray.indexOf(name)] += 1;
    };

    toPrintout = calculateLogit(numberarray, valuearray);
    return toPrintout

};

function calculateLogit(numberarray, valuearray){
    logit = 0
    for (var i= 0; i< numberarray.length;i++)
    { logit += valuearray[i] * numberarray[i]
    };
        var c =  Math.exp(logit);
        var x1 = c/(1+c)
  

   //   var  a = -1;
     // var b = 1;
     
    // var a2=2*a;
    // var ac=4*a*c;
    // var dis=b*b;
     //var dis=dis-ac;
     
    //var dis_sqrt=Math.sqrt(dis);
    //var x1=-b-dis_sqrt;
    //var x1=x1/a2; 
    return x1;
};
</script>

</body>
</html>